(this["webpackJsonptest-1"]=this["webpackJsonptest-1"]||[]).push([[0],{145:function(e,t,r){},225:function(e,t,r){"use strict";r.r(t);var o=r(0),n=r.n(o),i=r(27),a=r.n(i),c=r(61),d=(r(145),r(26)),l=r(29),m=r(228),s=r(227),u=function(e,t){return e.map((function(t){return Object(l.a)(Object(l.a)({},t),{},{from:Date.parse(t.from),to:Date.parse(t.to),interval:e.filter((function(e){return t.employee_id!==e.employee_id})).filter((function(e){var r=e.from,o=e.to;return r<=t.to&&t.to<=o})).length})})).find((function(e){return e.id===t})).interval<3?"danger":null},p=r(20),f=m.a.Text,j=function(e){var t=e.worklog,r=Object(d.f)().id,n=t.filter((function(e){return e.employee_id===+r})).map((function(e){return Object(l.a)(Object(l.a)({},e),{},{myId:{id:e.id,to:e.to}})})),i=[{title:"Id"},{title:"\u041f\u0440\u0438\u0431\u044b\u043b",align:"center"},{title:"\u0423\u0431\u044b\u043b",align:"center",render:function(e){return Object(p.jsx)(f,{type:u(t,null===e||void 0===e?void 0:e.id),children:null===e||void 0===e?void 0:e.to})}}];return Object(o.useEffect)((function(){console.log(n)}),[n]),Object(p.jsx)(s.a,{columns:i,dataSource:n,pagination:!1,rowKey:"id"})},O=[{title:"Id",key:"id",render:function(e){return Object(p.jsx)("div",{children:Object(p.jsx)("p",{children:"".concat(null===e||void 0===e?void 0:e.id)})})}},{title:"\u0424\u0418\u041e",key:"myId",render:function(e){return Object(p.jsx)("div",{children:Object(p.jsx)(c.b,{to:"".concat(null===e||void 0===e?void 0:e.id),children:"".concat(null===e||void 0===e?void 0:e.firstName," ").concat(null===e||void 0===e?void 0:e.middleName," ").concat(null===e||void 0===e?void 0:e.lastName)})})}},{title:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",key:"birthDate",render:function(e){return Object(p.jsx)("div",{children:Object(p.jsx)("p",{children:"".concat(b(null===e||void 0===e?void 0:e.birthDate))})})}}],b=function(e){var t=e.split(""),r=t.slice(0,4).join(""),o=t.slice(5,7).join(""),n=t.slice(8,11).join("");return"".concat(n,"-").concat(o,"-").concat(r)};var y=function(e){var t=e.employees;return Object(p.jsx)("div",{className:"table",children:Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(s.a,{columns:O,dataSource:t,pagination:!1,rowKey:"id"})})})},_=r(78),v="GET_EMPLOYEES_SUCCESS",h="GET_EMPLOYEES_REQUESTED",E="EMPLOYEES_FAILED",x="GET_WORKLOG_SUCCESS",g="GET_WORKLOG_REQUESTED",w="WORKLOG_FAILED";var S=function(){var e=Object(_.c)((function(e){return e.employees.data})),t=Object(_.c)((function(e){return e.worklog.data})),r=Object(_.b)();return Object(o.useEffect)((function(){var e;r({type:g,payload:e}),r(function(e){return{type:h,payload:e}}())}),[r]),Object(p.jsx)(c.a,{children:Object(p.jsxs)("div",{className:"mainPage",children:[Object(p.jsx)("div",{className:"header",children:Object(p.jsx)("nav",{children:Object(p.jsx)("ul",{children:Object(p.jsx)("li",{children:Object(p.jsx)(c.b,{to:"/",children:"Main"})})})})}),Object(p.jsxs)(d.c,{children:[Object(p.jsx)(d.a,{exact:!0,path:"/",component:function(){return Object(p.jsx)(y,{employees:e})}}),Object(p.jsx)(d.a,{path:"/:id",children:Object(p.jsx)(j,{worklog:t})})]})]})})},N=r(58),k={data:[],loading:!1,error:null};var D={data:[],loading:!1,error:null};var L=Object(N.b)({employees:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case v:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,data:t.payload});case E:return Object(l.a)(Object(l.a)({},e),{},{error:t.message});default:return e}},worklog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case x:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,data:t.payload});case w:return Object(l.a)(Object(l.a)({},e),{},{error:t.message});default:return e}}}),T=r(135),G=r(32),R=r.n(G),I=r(45),C=r(100),M={"/api/employees":[{id:1,firstName:"\u041b\u0435\u043e\u043d\u0438\u0434",lastName:"\u0421\u0442\u0430\u0440\u043e\u043a\u0430\u0434\u043e\u043c\u0441\u043a\u0438\u0439",middleName:"\u041c\u0438\u0445\u0430\u0439\u043b\u043e\u0432\u0438\u0447",birthDate:"1875-03-27",phone:"+79975669545"},{id:2,firstName:"\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440",lastName:"\u0414\u0435\u043c\u0438\u0445\u043e\u0432",middleName:"\u041f\u0435\u0442\u0440\u043e\u0432\u0438\u0447",birthDate:"1916-06-18",phone:"+74951263366"},{id:3,firstName:"\u0412\u0438\u043a\u0442\u043e\u0440",lastName:"\u041a\u0430\u043b\u043d\u0431\u0435\u0440\u0437",middleName:"\u041a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u0438\u043d\u043e\u0432\u0438\u0447",birthDate:"1928-06-02",phone:"+37156698963"},{id:4,firstName:"\u0410\u043b\u043e\u0438\u0441",lastName:"\u0410\u043b\u044c\u0446\u0433\u0435\u0439\u043c\u0435\u0440",middleName:"\u042d\u0434\u0443\u0430\u0440\u0434\u043e\u0432\u0438\u0447",birthDate:"1864-06-14",phone:"+15559665599"},{id:5,firstName:"\u0410\u0432\u0438\u0446\u0435\u043d\u043d\u0430",lastName:"\u0421\u0438\u043d\u0430",middleName:"\u0410\u0431\u0443 \u0410\u043b\u0438 \u0418\u0431\u043d",birthDate:"1980-08-23",phone:"+15559171855"},{id:6,firstName:"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440",lastName:"\u0424\u043b\u0435\u043c\u0438\u043d\u0433",middleName:"\u0425\u0443\u0433\u043e\u0432\u0438\u0447",birthDate:"1881-08-06",phone:"+4569988569"}],"/api/employees/worklog":[{id:1,employee_id:1,from:"2021-03-04 04:44:44",to:"2021-03-04 06:46:09"},{id:2,employee_id:1,from:"2021-03-04 06:55:01",to:"2021-03-04 08:13:10"},{id:3,employee_id:1,from:"2021-03-04 09:11:45",to:"2021-03-04 10:55:34"},{id:4,employee_id:1,from:"2021-03-04 11:31:54",to:"2021-03-04 13:36:34"},{id:5,employee_id:1,from:"2021-03-04 14:40:52",to:"2021-03-04 21:31:27"},{id:6,employee_id:1,from:"2021-03-04 21:32:16",to:"2021-03-04 22:13:47"},{id:7,employee_id:1,from:"2021-03-04 22:44:21",to:"2021-03-04 22:47:15"},{id:8,employee_id:1,from:"2021-03-04 23:27:07",to:"2021-03-04 23:41:45"},{id:9,employee_id:1,from:"2021-03-04 23:41:54",to:"2021-03-04 23:44:51"},{id:10,employee_id:1,from:"2021-03-04 23:53:00",to:"2021-04-04 01:15:22"},{id:11,employee_id:2,from:"2021-03-04 03:44:44",to:"2021-03-04 03:46:09"},{id:12,employee_id:2,from:"2021-03-04 03:55:01",to:"2021-03-04 08:13:10"},{id:13,employee_id:2,from:"2021-03-04 09:11:43",to:"2021-03-04 10:55:37"},{id:14,employee_id:2,from:"2021-03-04 10:56:54",to:"2021-03-04 13:36:34"},{id:15,employee_id:2,from:"2021-03-04 13:40:52",to:"2021-03-04 15:31:27"},{id:16,employee_id:2,from:"2021-03-04 15:32:16",to:"2021-03-04 16:13:47"},{id:17,employee_id:3,from:"2021-03-04 00:00:16",to:"2021-03-04 12:00:47"},{id:18,employee_id:3,from:"2021-03-04 12:33:56",to:"2021-03-04 20:11:11"},{id:19,employee_id:4,from:"2021-03-04 00:12:12",to:"2021-03-04 04:07:09"},{id:20,employee_id:4,from:"2021-03-04 06:33:25",to:"2021-03-04 08:56:12"},{id:21,employee_id:4,from:"2021-03-04 09:02:45",to:"2021-03-04 10:11:11"},{id:22,employee_id:4,from:"2021-03-04 11:12:10",to:"2021-03-04 13:36:34"},{id:23,employee_id:4,from:"2021-03-04 13:16:52",to:"2021-03-04 14:31:27"},{id:24,employee_id:4,from:"2021-03-04 16:32:16",to:"2021-03-04 19:13:59"},{id:25,employee_id:4,from:"2021-03-04 19:44:21",to:"2021-03-04 22:54:15"},{id:26,employee_id:4,from:"2021-03-04 23:27:19",to:"2021-03-04 23:41:30"},{id:27,employee_id:5,from:"2021-03-04 11:12:12",to:"2021-03-04 12:07:09"},{id:28,employee_id:5,from:"2021-03-04 12:32:25",to:"2021-03-04 12:56:13"},{id:29,employee_id:5,from:"2021-03-04 14:02:17",to:"2021-03-04 14:11:08"},{id:30,employee_id:5,from:"2021-03-04 15:12:19",to:"2021-03-04 16:33:33"},{id:31,employee_id:5,from:"2021-03-04 18:25:52",to:"2021-03-04 20:31:12"},{id:32,employee_id:5,from:"2021-03-04 20:32:20",to:"2021-03-04 21:21:21"},{id:33,employee_id:5,from:"2021-03-04 22:44:21",to:"2021-03-04 22:54:15"},{id:34,employee_id:5,from:"2021-03-04 22:59:19",to:"2021-03-04 23:29:30"},{id:35,employee_id:6,from:"2021-03-04 02:15:44",to:"2021-03-04 04:46:09"},{id:36,employee_id:6,from:"2021-03-04 17:26:01",to:"2021-03-04 08:17:10"},{id:37,employee_id:6,from:"2021-03-04 09:29:45",to:"2021-03-04 11:32:34"},{id:38,employee_id:6,from:"2021-03-04 11:39:07",to:"2021-03-04 13:39:07"},{id:39,employee_id:6,from:"2021-03-04 14:15:52",to:"2021-03-04 19:01:08"},{id:40,employee_id:6,from:"2021-03-04 19:32:47",to:"2021-03-04 20:55:47"},{id:41,employee_id:6,from:"2021-03-04 22:59:00",to:"2021-03-04 23:09:15"},{id:42,employee_id:6,from:"2021-03-04 23:27:05",to:"2021-03-04 23:30:45"},{id:43,employee_id:6,from:"2021-03-04 23:30:54",to:"2021-03-04 23:50:01"},{id:44,employee_id:6,from:"2021-04-04 00:53:00",to:"2021-04-04 04:15:22"}]};function P(e){var t;return t=M[e],new Promise((function(e,r){return setTimeout(t?e:r,500,t)}))}var U=R.a.mark(Y),K=R.a.mark(F),W=function(){var e=Object(C.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P("/api/employees");case 2:return t=e.sent,e.abrupt("return",t.sort((function(e,t){return e.lastname>t.lastname?1:-1})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Y(){var e;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(I.b)(W);case 3:return e=t.sent,t.next=6,Object(I.c)({type:"GET_EMPLOYEES_SUCCESS",payload:e});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(I.c)({type:"EMPLOYEES_FAILED",message:t.t0.message});case 12:case"end":return t.stop()}}),U,null,[[0,8]])}function F(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.d)("GET_EMPLOYEES_REQUESTED",Y);case 2:case"end":return e.stop()}}),K)}var A=R.a.mark(X),Q=R.a.mark(B),J=function(){var e=Object(C.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P("/api/employees/worklog");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function X(){var e;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(I.b)(J);case 3:return e=t.sent,t.next=6,Object(I.c)({type:"GET_WORKLOG_SUCCESS",payload:e});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(I.c)({type:"WORKLOG_FAILED",message:t.t0.message});case 12:case"end":return t.stop()}}),A,null,[[0,8]])}function B(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.d)("GET_WORKLOG_REQUESTED",X);case 2:case"end":return e.stop()}}),Q)}var V=R.a.mark(q);function q(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.a)([F(),B()]);case 2:case"end":return e.stop()}}),V)}var z=Object(T.a)(),H=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||N.c,Z=Object(N.d)(L,H(Object(N.a)(z)));z.run(q);var $=Z;a.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(_.a,{store:$,children:Object(p.jsx)(c.a,{children:Object(p.jsx)(S,{})})})}),document.getElementById("root"))}},[[225,1,2]]]);
//# sourceMappingURL=main.eca49a24.chunk.js.map